---
title: 垃圾收集算法
date: '2017/7/20 23:46:25'
categories:
  - NoteBook
tags:
  - JAVA
  - JVM
abbrlink: f12cd388
---

## 1.标记-清除算法
最基础的收集算法。
分为两个阶段：标记出所有需要回收的对象，标记完成后统一回收所有被标记的对象。
不足：效率，空间，标记清除后会产生大量不连续的内存碎片。
<!-- more -->
## 2.复制算法
解决效率问题。
将可用的内存按容量分为大小相等的两块，每次只使用一块。当一块用完了，将还存活的对象复制到另一块，然后再把已使用过的内存空间一次清理掉。
## 3.标记整理算法
复制算法有较多复制操作，效率问题。
根据老年代的特点，标记过程与标记-清除算法一样，后续操作让所有存活对象都像一端移动，然后直接清理掉边界以外的内存。
## 4.分代收集算法
在新生代中有大批对象死去，少量存活：复制算法。复制成本少。
老年代中对象存活率高，没有额外的空间对他进行担保：就必须使用 标记-清理 或 标记-整理 算法回收。


--------------------------------------------------------------------------------

一共有两种算法，一种是引用计数算法，每被引用一次计数器就+1，当引用为0就回收，不过这种算法有一个弊端就是，当对象之间互相引用的时候就永远不会回收，
所以用的最多的还是GC ROOTS可达性分析，看对象是否被GC ROOTS引用，那么哪些可以作为GC ROOTS呢？
有以下四种：1.栈里面的局部变量表，方法区的2.类静态属性引用的对象3.方法区中常量引用的对象，4.JNI本地变量栈中引用的对象
http://www.importnew.com/13493.html